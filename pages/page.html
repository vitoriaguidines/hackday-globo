<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watcher - Page</title>
    <link rel="stylesheet" href="../style/style.css">
</head>
<body class="page-body full-screen">

    <button class="back-button-left" onclick="window.location.href='index.html'">
        <img src="https://cdn-icons-png.flaticon.com/512/271/271220.png" alt="Seta para a esquerda">
    </button>

    <header class="header">
        <div class="logo">
            <img src="../images/binoculo.png" alt="Binóculos">
            <span>Watcher</span>
        </div>
    </header>

    <div class="emoji-container">
        <button class="emoji-button" onclick="filtrarComentarios('🤬')">🤬</button>
        <button class="emoji-button" onclick="filtrarComentarios('☹️')">☹️</button>
        <button class="emoji-button" onclick="filtrarComentarios('😐')">😐</button>
        <button class="emoji-button" onclick="filtrarComentarios('🙂')">🙂</button>
        <button class="emoji-button" onclick="filtrarComentarios('😀')">😀</button>
    </div>

    <div id="resultados" class="comment-section">
        <!-- Os comentários filtrados aparecerão aqui -->
    </div>

    <script>
        function filtrarComentarios(emoji) {
            fetch(`/filtrar?emoji=${encodeURIComponent(emoji)}`)
                .then(response => response.json())
                .then(data => {
                    const resultadosDiv = document.getElementById('resultados');
                    resultadosDiv.innerHTML = ''; // Limpa os resultados anteriores

                    if (data.comentarios.length > 0) {
                        data.comentarios.forEach(comentario => {
                            const p = document.createElement('p');
                            p.textContent = comentario;
                            resultadosDiv.appendChild(p);
                        });
                    } else {
                        resultadosDiv.textContent = 'Nenhum comentário encontrado.';
                    }
                })
                .catch(error => console.error('Erro:', error));
        }
    </script>

</body>
</html>
